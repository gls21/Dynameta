---
title: "Dynameta"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Dynameta}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Dynameta was developed as part of the GLiTRS project, a cross-institutional consortium aiming to build global threat-response models to better understand and predict insect biodiversity change.

Dynameta is a living-review (i.e. continually updateable) R Shiny platform written as an R package. This means the app can be launched by running the launch_Dynameta() function included in the R package.

Dynameta was designed for interactive ecological meta-analyses, oriented around testing the effect of anthropogenic threats on biodiversity. The platform is highly generalisable, such that it can be applied in the context of any meta-analytic PICO question concerning the effect of any IUCN threat on any taxonomic group, biodiversity metric, or geographic region. Our hope is that such software can help encourage the broader adoption of dynamic living reviews in ecology.

This document introduces you to the Dynameta package, and how to use it to launch the Dynameta Shiny app. 

<br>

Load the package by running:
```{r setup}
library(Dynameta)
library(tibble) # for previewing dataset 
```

## Data: sample_data
The Dynameta package comes with `sample_data`, which is used by default by the Dynameta Shiny app. This is an example dataset containing data collected for a GLiTRS meta-analysis investigating the effect of insecticide application on Odonata abundance. The dataset is described in full in `?Dynameta::sample_data`. 

```{r}
dim(Dynameta::sample_data)

# Print dataset as a tibble (nice way to preview dataset)
as_tibble(sample_data)
```

## Launch the Dynameta Shiny app
To launch a local instance of the Dynameta Shiny app, run the following code:
N.B. The function takes no arguments.
```{r, echo = FALSE}
Dynameta::launch_Dynameta()
```

## Process for using the Dynameta app
* Once the app has opened in your browser, you can choose whether you want to analyse the sample data included in the package or upload your own meta-analytic data to analyse.
* If you select 'Your own data', you will then be given the option to upload a file (.csv). ???Needs to contain certain columns???
* The 'Introduction' tab provides a breakdown of the data, including details of the papers and the IUCN threat(s) they investigated, and a map indicating where each data point originated from.
* To run meta-analytic models, go to the 'Run models' tab.
* Based on your interests, filter the data by IUCN threat, location, taxonomic order, or biodiversity metric the data was collected with. Then click 'Run custom model'.
* Dynameta will run a metafor meta-analytic model and produce a forest plot of the results. This includes an estimate of the overall effect size of your chosen IUCN threat on biodiversity.
* You are able to download the model object (.rds) and a file containing the results summary of the model fitting (.txt).
* View full paper details using the 'References' tab.


